"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var util_1 = require("util");
var logger_1 = require("../logger");
exports.notify = function (template, level) { return function (arg) {
    switch (true) {
        case arg instanceof Error:
            logger_1.logger.log(level, template, [arg.message]);
            return Promise.reject(new Error(util_1.format(template, arg.message)));
        case typeof arg === 'boolean':
            logger_1.logger.log(level, template);
            break;
        default:
            logger_1.logger.log(level, template, [arg]);
    }
    return Promise.resolve(arg);
}; };
exports.advise = function (template) { return function (error) {
    switch (true) {
        case /ETIMEDOUT/.test(error.message):
            return exports.complain(util_1.format(template, 'Are you behind a proxy or a firewall that needs to be configured?'))(error);
        case /self signed ceritificate in certificate chain/.test(error.message):
            return exports.complain(util_1.format(template, 'If you\'re using a self-signed certificate you might want to configure it correctly, ' +
                'or use the --ignoreSSL option.'))(error);
        default:
            return exports.complain(template)(error);
    }
}; };
exports.inform = function (template) { return exports.notify(template, 'info'); };
exports.complain = function (template) { return exports.notify(template, 'error'); };
//# sourceMappingURL=logging.js.map